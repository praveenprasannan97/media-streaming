{% extends 'layout/app_layout.html' %}
{% block 'content' %}

<div class="container">
    <div class="d-flex justify-content-center">
        <h1>Monthly Revenue</h1>
    </div>
    <br>
    <br>
    <br>
    
    <div class="row d-flex justify-content-center">
      <div class="col-6">
        <div class="d-flex justify-content-end">
          <form method="get" action="">
            <label for="year">Select Year:</label>
            <select name="year" id="year" onchange="this.form.submit()">
                {% for year in years %}
                <option value="{{ year.year }}" {% if year.year == selected_year %}selected{% endif %}>
                  {{ year.year }}
                </option>
                {% endfor %}
            </select>
          </form>
        </div>
        <table class="table table-bordered table-striped table-hover">
          <thead>
            <tr>
              <th style="width: 60%; text-align: center;">Month</th>
              <th style="width: 40%; text-align: center;">Revenue</th>
            </tr>
          </thead>
          <tbody>
            {% for data in monthly_revenue %}
            <tr>
              <td>{{ data.month }}</td>
              <td>{{ data.total_revenue|floatformat:2 }} â‚¹</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
</div>

{% endblock %}